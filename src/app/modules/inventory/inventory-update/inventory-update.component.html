<app-validation-alerts [parentForm]="inventoryForm" translateKey="INVENTORY"></app-validation-alerts>
<div class="card card-flush h-lg-100" id="kt_contacts_main">
  <div class="card-header pt-7" id="kt_chat_contacts_header">
    <div class="card-title">
      <i class="ki-duotone ki-badge fs-1 me-2">
        <span class="path1"></span>
        <span class="path2"></span>
        <span class="path3"></span>
        <span class="path4"></span>
        <span class="path5"></span>
      </i>
      <h2 class="card-title fw-bold" translate="INVENTORY.UpdateItem"></h2>
    </div>
  </div>
  <div class="card-body pt-5">
    <form [formGroup]="inventoryForm" class="form fv-plugins-bootstrap5 fv-plugins-framework">
      <div class="row row-cols-1 row-cols-sm-2 rol-cols-md-1 row-cols-lg-2">
        <div class="col">
          <div class="fv-row mb-7 fv-plugins-icon-container">
            <label class="fs-6 fw-semibold form-label mt-3">
              <span class="required" translate="INVENTORY.Name"></span>
            </label>
            <input type="text" formControlName="name" class="form-control form-control-solid">
            <div
              *ngIf="inventoryForm.get('name')!.invalid && (inventoryForm.get('name')?.dirty || inventoryForm.get('name')?.touched)"
              class="invalid-feedback">
              <div *ngIf="inventoryForm.get('name')?.errors?.['required']" translate="INVENTORY.NameRequired"></div>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="fv-row mb-7">
            <label class="fs-6 fw-semibold form-label mt-3">
              <span class="required" translate="INVENTORY.Category"></span>
            </label>
            <br>
            <p-dropdown [options]="categories" formControlName="category" optionLabel="name" [showClear]="true"
              optionValue="name" [placeholder]="'INVENTORY.SelectCategory' | translate">
            </p-dropdown>
            <div
              *ngIf="inventoryForm.get('category')!.invalid && (inventoryForm.get('category')?.dirty || inventoryForm.get('category')?.touched)"
              class="invalid-feedback">
              <div *ngIf="inventoryForm.get('category')?.errors?.['required']" translate="INVENTORY.CategoryRequired">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row row-cols-1 row-cols-sm-2 rol-cols-md-1 row-cols-lg-2">
        <div class="col">
          <div class="fv-row mb-7">
            <label class="fs-6 fw-semibold form-label mt-3">
              <span class="required" translate="INVENTORY.StockQuantity"></span>
            </label>
            <br>
            <p-inputNumber formControlName="stockQuantity" mode="decimal" [min]="0"></p-inputNumber>
            <div
              *ngIf="inventoryForm.get('stockQuantity')!.invalid && (inventoryForm.get('stockQuantity')?.dirty || inventoryForm.get('stockQuantity')?.touched)"
              class="invalid-feedback">
              <div *ngIf="inventoryForm.get('stockQuantity')?.errors?.['required']" translate="INVENTORY.StockRequired">
              </div>
              <div *ngIf="inventoryForm.get('stockQuantity')?.errors?.['min']" translate="INVENTORY.StockMin"></div>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="fv-row mb-7">
            <label class="fs-6 fw-semibold form-label mt-3">
              <span class="required" translate="INVENTORY.Price"></span>
            </label>
            <br>
            <p-inputNumber formControlName="price" mode="currency" currency="USD" [min]="0"></p-inputNumber>
            <div
              *ngIf="inventoryForm.get('price')!.invalid && (inventoryForm.get('price')?.dirty || inventoryForm.get('price')?.touched)"
              class="invalid-feedback">
              <div *ngIf="inventoryForm.get('price')?.errors?.['required']" translate="INVENTORY.PriceRequired"></div>
              <div *ngIf="inventoryForm.get('price')?.errors?.['min']" translate="INVENTORY.PriceMin"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="fv-row mb-7">
            <label class="fs-6 fw-semibold form-label mt-3">
              <span translate="INVENTORY.Description"></span>
            </label>
            <br>
            <textarea formControlName="description" class="form-control form-control-solid" rows="3"></textarea>
          </div>
        </div>
      </div>
      <div class="separator mb-6"></div>
      <div class="d-flex justify-content-end">
        <button type="button" (click)="onCancel()" class="btn btn-light me-3" translate="SHARED.Cancel"></button>
        <button type="button" (click)="onSubmit()" class="btn btn-success me-3" [disabled]="inventoryForm.invalid">
          <span class="indicator-label" translate="SHARED.Save"></span>
        </button>
      </div>
    </form>
  </div>
</div>
